## 10.2 μ§„μ •ν• Restful API λ„λ€μ²΄ λ­κΉ?

<img src='./images/Ch10/01.png'>

- RESTλ” λ¬΄μ—‡μΈκ°€ λ‚νƒ€λ‚΄λ”, λ€ν‘ν•λ” μƒνƒλ¥Ό μ „μ†΅ν•λ” κ²ƒμ„ λ§ν•λ‹¤

<img src='./images/Ch10/02.png'>

- ν΄λΌμ΄μ–ΈνΈκ°€ URL/Bλ¥Ό μ”μ²­ν•λ©΄ Bμ— ν•΄λ‹Ήν•λ” μƒνƒλ¥Ό μ„λ²„λ” μ‘λ‹µμΌλ΅ λ³΄λ‚΄μ¤€λ‹¤

  - μμ‹μ—μ„ B μƒνƒλ” JSONμ„ μ”μ²­ν•λ©΄ JSONμ„ λ€ν‘ν•λ” μƒνƒλ¥Ό λ³΄λ‚΄μ¤€λ‹¤

<br/>

- RESTλΌκ³  ν•λ” κ²ƒμ€ Software Architectural Style

  - μ¦‰, μ„λ²„ μ†ν”„νΈμ›¨μ–΄ μ•„ν‚¤ν…μ³λ¥Ό λ””μμΈν•  μ μλ” μ¤νƒ€μΌμ„ λ§ν•λ‹¤

  - κ·Έλ ‡κΈ° λ•λ¬Έμ— μ›Ή μ„λΉ„μ¤λ¥Ό λ§λ“¤ λ• μ§€ν‚¤λ©΄ μΆ‹μ€ κ°€μ΄λ“λΌμΈ (Web Service Guidelines)

- μ¦‰, HTTP λ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ ν†µμ‹ ν•  λ• μ–΄λ–»κ² ν¨μ¨μ μΌλ΅ μ λ””μμΈ ν•  μ μμ„κΉ κ³ λ―Όν•΄μ„ κ³ μ•ν•΄λ‚Έ κ²ƒ

<img src='./images/Ch10/03.png'>

<br/>

<img src='./images/Ch10/04.png'>

1. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ λΈλΌμ°μ €μ΄λμ§€ λ¨λ°”μΌμ΄λμ§€ λ‹¤μ–‘ν• μ–΄ν”λ¦¬μΌ€μ΄μ…μ— λ°μ΄ν„°λ¥Ό μ κ³µν•  μ μλ” μ•„ν‚¤ν…μ³λ¥Ό μ μ§€ν•΄μ•Ό ν•λ‹¤

2. Statelessν• μƒνƒλ΅ μ„λ²„λ¥Ό λ””μμΈ ν•΄μ•Ό ν•λ‹¤

3. μΊμ‹κ°€ κ°€λ¥ν•λ‹¤λ©΄ μΊμ‹κ°€ κ°€λ¥ν•λ„λ΅ λ””μμΈ ν•λ‹¤

4. Layered Systemμ„ μ΄μ©ν•΄μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ–Όλ§λ‚ λ§μ€ μ„λ²„κ°€ μλ”μ§€ λλ” μ„λ²„ μ‚¬μ΄μ— κ²μ΄νΈμ›¨μ΄ μ„λ²„κ°€ μλμ§€ μ—†λμ§€ μƒκ΄€μ—†μ΄ μ¦‰, κ³µν†µλ μ„λ²„μ—μ„ μ κ³µν•λ” API ν•λ‚λ΅ λ’¤μ— μ–Όλ§λ‚ λ§μ€ μ„λ²„κ°€ μλ”μ§€ μƒκ΄€μ—†μ΄ ν•λ‚μ APIλ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ Layered Systemμ„ λ§λ“¤μ–΄μ•Ό ν•λ‹¤

5. ν΄λΌμ΄μ–ΈνΈκ°€ μ›ν•λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ μν–‰ν•΄μ•Ό ν•λ” μ½”λ“λ¥Ό μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ³΄λ‚΄μ¤„ μ μλ‹¤ (μµμ…μΈ κ°€μ΄λ“)

6. Restful μΈμ§€ μ•„λ‹μ§€ νλ‹¨ν•λ” μ”μ†. μ•„λμ—μ„ μμ„Έν μ„¤λ…

- 2, 3λ²μ€ HTTP ν”„λ΅ν† μ½μ—μ„ μλ™μΌλ΅ μ–»μ–΄κ° μ μλ‹¤

<br/>

<img src='./images/Ch10/05.png'>

1. ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ—μ„ μ„λ²„μ— μλ” μ–΄λ–¤ λ¦¬μ†μ¤λ¥Ό μ›ν•λ”μ§€ μ‹λ³„ν•  μ μμ–΄μ•Ό ν•κ³  μ„λ²„μ— μ–΄λ–¤ ν•νƒλ΅ λ°μ΄ν„°κ°€ μ €μ¥λμ–΄ μλμ§€ μƒκ΄€μ—†μ΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ΄ν•΄ν•  μ μλ” ν•μ‹μΌλ΅ λ³΄λ‚΄μ£Όμ–΄μ•Ό ν•λ‹¤

2. μ„λ²„λ΅ λ¶€ν„° λ°›μ€ ν•΄λ‹Ή λ„λ©”μΈμ„ λ€ν‘ν•  μ μλ” λ°μ΄ν„°λ¥Ό ν†µν•΄ ν•΄λ‹Ή λ¦¬μ†μ¤μ— λ€ν•΄μ„ μ–΄λ–»κ² λ” μ²λ¦¬ν•  μ μλ”μ§€μ— λ€ν• λ¨λ“  μ •λ³΄λ¥Ό μ•μ•„μ•Ό ν•λ‹¤

   - μ•μΌλ΅ μμ •μ΄λ‚ μ‚­μ  ν•  λ• μ–΄λ–¤ μ‹μΌλ΅ μ”μ²­ν•΄μ•Ό ν•λ”μ§€ μ• μ μμ–΄μ•Ό ν•λ‹¤.

3. μ„λ²„μ—μ„ λ³΄λ‚΄λ” μ‘λ‹µ λ°μ΄ν„° μ•μ—λ” λ°λ“μ‹ ν΄λΌμ΄μ–ΈνΈκ°€ μ΄ λ°μ΄ν„°λ¥Ό μ–΄λ–»κ² μ²λ¦¬ν•΄μ•Ό ν•λ”μ§€ μ„¤λ…μ΄ λμ–΄ μμ–΄μ•Ό ν•λ‹¤.

   - μλ¥Όλ“¤μ–΄ λ°μ΄ν„° νƒ€μ…μ€ λ¬΄μ—‡μΈμ§€μ— λ€ν• μ •λ³΄ μμ–΄μ•Ό ν•λ‹¤ (ex. Http ν—¤λ”μ Content-type)

4. Hypermediaλ¥Ό application state μ—”μ§„μ²λΌ μ κ³µν•΄μ•Ό ν•λ‹¤

   - μ°λ¦¬κ°€ μ„λ²„μ—μ„ urlμ΄ μλ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ•„λ–¤ Urlμ΄ μλ”μ§€ μ•μ•„μ•Ό ν•κ³  μ μ ν• urlλ΅ μ”μ²­μ„ ν•΄μ•Ό ν•λ‹¤

   - μλ»λ urlλ΅ μ”μ²­ν•λ©΄ 404λ¥Ό λ°›μΌλ‹κΉ

   - ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ‹ κ²½μ¨μ„ urlμ„ μ”μ²­ν•΄μ•Ό ν•λ‹¤

   - μ•„λ μμ‹μ²λΌ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— accountsμ— κ΄€ν• κ±Έ ν•κ³  μ‹¶λ‹¤κ³  μ”μ²­ν•λ‹¤κ³  ν•μ

  <img src='./images/Ch10/06.png'>

  <img src='./images/Ch10/07.png'>

- κ·Έλ¬λ©΄ μ„λ²„μ—μ„ μ΄ accountsλ΅ ν•  μ μλ” λ¨λ“  μ•΅μ…μ— λ€ν•΄μ„ μ–΄λ–¤ urlμ„ μ¨μ•Ό λλ”μ§€, μ•μΌλ΅ μ–΄λ–¤ urlμ„ μ΄μ©ν•΄μ„ μ„λ²„μ— μ”μ²­μ„ ν•  μ μλ”μ§€ λ‹¤ λ§ν¬λ urlμ„ μ‘λ‹µμΌλ΅ λ³΄λ‚΄μ¤€λ‹¤

- κ·Έλ¬λ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ€ μ΄ λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•λ‹¤

- μλ¥Όλ“¤μ–΄ depositμ„ ν•κ³  μ‹¶λ‹¤λ©΄ μ΄ urlμ„, withdrawλ¥Ό ν•κ³  μ‹¶λ‹¤λ©΄ μ΄ urlμ„ μ‚¬μ©ν•λ©΄ λκµ¬λ‚ λΌλ” μ •λ³΄λ¥Ό λ°›μ•„ μ¨λ‹¤

- μ¦‰, μ„λ²„λ΅ λ¶€ν„° μ–΄λ–»κ² μ„λ²„λ¥Ό μ΄μ©ν•λ©΄ λλ”μ§€ λ¨λ“  μ •λ³΄λ¥Ό μ–»μ–΄μ¨λ‹¤

- μ΄κ²ƒμ„ RESTful apiλΌκ³  ν•λ‹¤

- μ§„μ •ν• RESTful μ‹μ¤ν…μ„ λ”°λΌκ°€λ” μ„λ²„λ¥Ό λ§λ“¤λ ¤λ©΄ urlμ„ μ λ””μμΈν•λ” κ²ƒ λΏ μ•„λ‹λΌ μ΄λ ‡κ² hypermediaλ¥Ό, μ¦‰, λ¨λ“  λ§ν¬λ“¤μ„ ν΄λΌμ΄μ–ΈνΈμ— μ κ³µν•΄μ¤μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ–΄λ–¤ urlμ΄ μλ”μ§€ μΌμΌμ΄ ν™•μΈν•  ν•„μ” μ—†μ΄ μ κ³µν•΄μ£Όμ–΄μ•Ό ν•λ‹¤

<br/>

- μ°λ¦¬κ°€ μ΄λ° λ¨λ“  κ·μΉ™μ„ λ‹¤ μ§€ν‚¤λ” κ²ƒμ€ μ•„λ‹λ‹¤. νΉν Hypermedia 4λ²μ€ λ§μ€ κ³³μ—μ„ ν•μ§€ μ•λ”λ‹¤

- Reference

  - Restμ— λ€ν• μ •λ¦¬κ°€ ν•„μ”ν•μ‹λ©΄ μ—¬κΈ° μ„ν‚¤ νμ΄μ§€κ°€ λ„μ›€μ΄ λμ‹¤κ²ƒ κ°™μ•„μ”:

    - https://en.wikipedia.org/wiki/Representational_state_transfer

<br/>

### Q.

- μ„¤λ…ν•΄μ£Όμ‹  Uniform interfaceμ 4κ°€μ§€ νΉμ§• μ¤‘μ—

- μ²«λ²μ§Έ 1. Resource Identification in requestsλ¥Ό μ μ™Έν•

- 2. Resource manipulation through representations

- 3. Self-descriptive messages

- 4. Hypermedia as the engine of application state

- μ„μ 3κ°€μ§€ νΉμ§• κ°„μ μ°¨μ΄μ μ΄ λ¬΄μ—‡μΈμ§€ λ…ν™•ν•κ² μ λ¨λ¥΄κ² μµλ‹λ‹¤.

- λ¨λ‘ λ‹¤ "μ¶”κ°€μ μΌλ΅ μ–΄λ–¤ μ²λ¦¬λ¥Ό μ–΄λ–»κ² ν•  μ μλ”μ§€ μ•λ ¤μ¤μ•Όν•λ‹¤"λΌλ” νΉμ§•...?μΌλ΅ μ΄ν•΄ν–λ”λ°

- 3κ°€μ§€ νΉμ§•κ°„μ μ°¨μ΄λ¥Ό λ” κµ¬μ²΄μ μΌλ΅ μ„¤λ…ν•΄μ£Όμ‹¤ μ μμ„κΉμ”

### A.

- 4κ°€μ§€λ‹¤ λΉ„μ·ν• λ‚΄μ©μ΄μμ”. ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή λ„λ©”μΈμ— ν•„μ”ν• λ¨λ“  λ‚΄μ©λ“¤μ„ λ‹¤ λλ” λ„λ©”μΈμ„ λ€ν‘ν•λ” λ¨λ“  μƒνƒμ— λ€ν• μ •λ³΄λ“¤μ„ λ‹¤ λ°›μ•„κ° μ μλ„λ΅ λ§λ“λ”κ²ƒ.

- μ΄κ²ƒμ΄ ν¬μΈνΈκ°€ μ•„λ‹κΉ ν•΄μ” :)

2. μ”μ²­ν• λ°μ΄ν„°μ— λ€ν•΄ μ‚­μ , μμ •μ‹ ν•„μ”ν• URLμ„ ν¬ν•¨ν•΄μ„ μ κ³µν•΄ μ£ΌκΈ°

3. μ„λ²„μ λ°μ‘ λ°μ΄ν„°λ¥Ό μ–΄λ–¤ ν¬λ§·μΌλ΅ ν•΄μ„ν•  μ μλ”μ§€ μ¤μ¤λ΅ μ„¤λ…ν•  μ μλ„λ΅ λ©”μ‹μ§€λ¥Ό λ§λ“¤κΈ° (Content-type: json κ°™μ€)

4. μ΄κ±΄ μμƒμ—μ„ μ κ°€ μ¶©λ¶„ν μ„¤λ…ν•΄ λ“λ¦° κ²ƒ κ°™μ•„μ” :)

---

## 10.3 Web APIs λ””μμΈ π’© vs β¨

- μ•μ RESTful λ°©μ‹λ€λ΅ ν•μ§€ μ•κ³ , λ€λ¶€λ¶„ μ„λ²„λ“¤μ΄ Web APIλ¥Ό λ””μμΈν•  λ•λ” CRUD λΌλ” κΈ°λ³Έμ μΈ κΈ°λ¥μ„ μ§€μ›ν•΄μ£Όλ©΄ λλ‹¤

- Create -> POST

- Read -> GET

- Update -> PUT

- Delete -> DELETE

<br/>

- /posts/getPosts (GET) -> /posts (GET)

- /posts/createPosts (GET) -> /posts (POST)

---

## 10.4 λ³΄ν†µμ Rest APIs μμ  (κΈ°μ—… μ‚¬λ΅€)

- https://developers.google.com/youtube/v3/docs/videos/list

  - μ΄λ° λ¬Έμ„λ¥Ό ν†µν•΄ λ‹¤λ¥Έ κΈ°μ—…μ€ μ–΄λ–¤μ‹μΌλ΅ APIλ¥Ό μ κ³µν•λ”μ§€ μ• μ μλ‹¤

  - λ³΄λ©΄ μ•μ„ λ°°μ΄ RESTful API μ›μΉ™ 6κ°€μ§€ μ¤‘ hypermedia λ§ν¬λ¥Ό μ κ³µν•΄μ£Όμ–΄μ•Ό ν•λ‹¤λ” μ›μΉ™μ΄ μ§€μΌμ§€μ§€ μ•μ€ κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

  - κ·Έλ ‡κΈ° λ•λ¬Έμ— μ‚¬μ©μλ” μ–΄λ– ν• APIλ΅ μ”μ²­μ„ ν•΄μ•Ό ν•λ”μ§€ urlμ„ λ‹¤ μ•κ³  μμ–΄μ•Ό ν•λ‹¤

  - μ΄ APIλ„ λ‚μμ§€ μ•λ‹¤. ν†µμƒμ μΌλ΅ μ‚¬μ©λλ” RESTful API λ°©μ‹

---

## 10.5 μ§„μ •ν• Rest APIs μμ  (κΈ°μ—… μ‚¬λ΅€)

- https://developer.github.com/v3/

  - RESTful API μ›μΉ™μ„ λ”°λ¥Έ μΆ‹μ€ μ‚¬λ΅€

- https://docs.github.com/en/rest/pulls/pulls?apiVersion=2022-11-28#get-a-pull-request

  - Response λ³΄λ©΄ μ•„λμ²λΌ μ—¬λ¬κ°€μ§€ κΈ°λ¥λ³„λ΅ λ‹¤λ¥Έ urlμ΄ μ κ³µλλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

  - μ¦‰, ν•΄λ‹Ή λ„λ©”μΈκ³Ό μ—°κ΄€λ μ‚¬μ©κ°€λ¥ν• λ¨λ“  urlμ— λ€ν• μ •λ³΄κ°€ ν•¨κ» μ κ³µλλ‹¤

  ```shell
  ...

  "html_url": "https://github.com/octocat/Hello-World/pull/1347",
  "diff_url": "https://github.com/octocat/Hello-World/pull/1347.diff",
  "patch_url": "https://github.com/octocat/Hello-World/pull/1347.patch",
  "issue_url": "https://api.github.com/repos/octocat/Hello-World/issues/1347",
  "commits_url": "https://api.github.com/repos/octocat/Hello-World/pulls/1347/commits",

  ...

  ```

- μ‚¬μ‹¤ μ΄λ° κ²ƒμ€ λ“λ¬Έ μΌ€μ΄μ¤λ΅ μ΄λ ‡κ² ν•λ” κ³³ λ§μ§€ μ•λ‹¤

<br/>

### Q.

- restful api μμ‹μ—μ„λ” μƒμ„±, μμ •, μ‚­μ μ™€ κ°™μ€ κΈ°λ¥λ“¤μ΄ ν•λ‚μ”© μ²λ¦¬ν•λ” κ²ƒμ„ μμ‹λ΅ λ³Ό μ μλ”λ° λ§μ•½ λ™μ‹μ— μ΄λ¤„μ§€λ” κΈ°λ¥μ΄ ν•„μ”ν•λ‹¤λ©΄ μ–΄λ–»κ² μ²λ¦¬κ°€ κ°€λ¥ν• κΉμ”?

- μλ¥Ό λ“¤μ–΄ νμ› κ°€μ…μ‹ μ•„μ΄λ”” μ¤‘λ³µ μ²΄ν¬

- μ„±κ³µμ‹ μ•„μ΄λ”” μƒμ„± κ³Ό κ°™μ€ κ²½μ° μ–΄λ–»κ² λ§λ“¤μ–΄μ•Ό ν• κΉμ”?

### A.

- λ³΄ν†µ νμ›κ°€μ…κ°™μ€ κ²½μ° μ•„μ΄λ”” μƒμ„± Rest APIμ—μ„ μ¤‘λ³µλλ” μ•„μ΄λ””κ°€ μλ‹¤λ©΄ 409 μ—λ¬ μ½”λ“λ¥Ό λ³΄λ‚΄μ¤€λ‹µλ‹λ‹¤.

- RestAPIμ—μ„λ” λ„λ©”μΈ λ³„λ΅, μµλ€ν• μ‘μ€ λ‹¨μ„λ΅ APIλ¥Ό λ§λ“λ”κ²ƒμ΄ κ¶μ¥λκ³  μμ–΄μ”.
